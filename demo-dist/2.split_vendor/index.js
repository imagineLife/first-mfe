(()=>{"use strict";var e,t,n,r,a,o={1542:(e,t,n)=>{var r=n(7294),a=n(745),o=n(8720),l=n(7271),i=n(7163),c=n(1822),u=n(6333),s=n(130),d=n(326),m=n(1138);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=r.lazy((function(){return Promise.all([n.e(216),n.e(15)]).then(n.bind(n,2015))})),f=["Start","Enable MF"];function b(e){var t,n,a=e.window,b=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=b[0],E=b[1],v=function(){E(!y)},g=void 0!==a?function(){return a().document.body}:void 0;return r.createElement(r.Fragment,null,r.createElement(i.Z,{component:"nav"},r.createElement(l.Z,null,r.createElement(s.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:v,sx:{mr:2,display:{sm:"none"}}},r.createElement(d.Z,null)),r.createElement(m.Z,{variant:"h6",component:"div",sx:{flexGrow:1,display:{xs:"none",sm:"block"}}},"Mod-Fed App"),r.createElement(o.Z,{sx:{display:{xs:"none",sm:"block"}}},f.map((function(e){return r.createElement(c.Z,{key:e,sx:{color:"#fff"}},e)}))))),r.createElement(o.Z,{component:"nav"},r.createElement(u.ZP,{container:g,variant:"temporary",open:y,onClose:v,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:240}}},y&&r.createElement(r.Suspense,{fallback:r.createElement("span",null)},r.createElement(h,{onClick:v,navItems:f})))))}function y(e){var t=e.window,n=e.children;return r.createElement(o.Z,{sx:{display:"flex"}},r.createElement(b,{window:t}),r.createElement(o.Z,{component:"main",sx:{p:3}},r.createElement(l.Z,null),n))}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){var t=e.sx,n=e.h1,a=e.h2,o=e.h3,l=e.h4,i=e.h5,c=e.h6,u=e.children;return r.createElement(r.Fragment,null,n&&r.createElement(m.Z,{variant:"h1",sx:g({},t)},n),a&&r.createElement(m.Z,{variant:"h2",sx:g({},t)},a),o&&r.createElement(m.Z,{variant:"h3",sx:g({},t)},o),l&&r.createElement(m.Z,{variant:"h4",sx:g({},t)},l),i&&r.createElement(m.Z,{variant:"h5",sx:g({},t)},i),c&&r.createElement(m.Z,{variant:"h6",sx:g({},t)},c),u)}var k=n(7212),j=n(5964),Z=n(3712);function x(){return r.createElement(O,{h2:"Initial Setup",sx:{p:6}},r.createElement(O,{h3:"Dependencies",sx:{p:3}},r.createElement(m.Z,{variant:"body1"},'The app is setup without the modulke federation, a "vanilla" bare-bones react-based frontend project.'),r.createElement(m.Z,{variant:"body1"},"The dependencies are relatively simple: react, webpack, babel, and material ui"," ",r.createElement("i",null,"(and all of their dependencies)"),":"),r.createElement("code",{style:{whiteSpace:"pre"}},'"dependencies": {\n    "@babel/core": "^7.20.5",\n    "@babel/preset-env": "^7.20.2",\n    "@babel/preset-react": "^7.18.6",\n    "@emotion/react": "^11.10.5",\n    "@emotion/styled": "^11.10.5",\n    "@mui/icons-material": "^5.10.16",\n    "@mui/material": "^5.10.17",\n    "babel-loader": "^9.1.0",\n    "html-webpack-plugin": "^5.5.0",\n    "react": "^18.2.0",\n    "react-dom": "^18.2.0",\n    "webpack": "^5.75.0",\n    "webpack-cli": "^5.0.1"\n  }')),r.createElement(O,{h3:"UI Parts",sx:{p:3}},r.createElement(m.Z,{variant:"body1"},r.createElement("b",null,"THE APP")," starts with a layout and this text content."),r.createElement(m.Z,{variant:"body1"},r.createElement("b",null,"THE LAYOUT")," consists of a wrapper around a nav and some content."),r.createElement(m.Z,{variant:"body1"},r.createElement("b",null,"THE NAV")," is the most complex part. There are a bunch of more components in the nav than listed here, but the ux outcome of the responsive nav is"),r.createElement(k.Z,null,r.createElement(j.ZP,null,r.createElement(Z.Z,{primary:"An AppBar",secondary:"The Sandwich Icon in mobile mode and the toolbar showing 3 menu items (made up items here)"})),r.createElement(j.ZP,null,r.createElement(Z.Z,{primary:"A Drawer",secondary:'The "open" drawer in mobile mode'}))),r.createElement(m.Z,{variant:"body1"},r.createElement("b",null,"THE TEXT")," content is served as part of a ",r.createElement("code",null,"<Reader />")," component, served as a child of the ",r.createElement("code",null,"<DefaultLayout />")," component"),r.createElement(m.Z,{variant:"h4"},r.createElement(m.Z,{variant:"body1"},"The ",r.createElement("code",null,"<App />")," puts the layout and the Reader together in a small file that reads ",r.createElement("i",null,'(note the "window" gets passed around for a detail)')),r.createElement(m.Z,{variant:"body1"},r.createElement("code",{style:{whiteSpace:"pre"}},"export default function App({window}) {\n  return (\n    <DefaultLayout window={window}>\n      <Reader />\n    </DefaultLayout>\n  );\n}")))))}function P(){return r.createElement(O,{h3:"Updating The Host App",sx:{p:3}},r.createElement(m.Z,{variant:"body1"},"Enabling"," ",r.createElement("a",{href:"https://webpack.js.org/concepts/module-federation/",target:"none"},"Module Federation")," ",'involves adjusting the "host" app to work with module federation. Thist mostly involves tinkering with Webpack config, as module federation affects how parts of an app like this are built, bundled, and deployed. ',r.createElement("i",null,"(NOTE: the docs are referenced throughout this doc)")),r.createElement(m.Z,{variant:"body1"},r.createElement("b",null,'The "Host" App'),' gets introduced, where the app becomes able to "consume" code produced by another module. The host app is "told" to look for a specific named js file (',r.createElement("i",null,"in production"),') where that named js file is responsible for "taking over" and "owning" the federated module, the Micro Frontend.'),r.createElement(m.Z,{variant:"body1"},r.createElement("b",null,"A New Plugin")," gets introduced into the webpack plugins array configuration: the"," ",r.createElement("a",{href:"https://webpack.js.org/concepts/module-federation",target:"none"},r.createElement("code",null,"ModuleFederationPlugin")),". ",r.createElement("br",null),"The plugin can be imported into the webpack config with something like"," ",r.createElement("code",null,'const { ModuleFederationPlugin: ModFedPlugin } = require("webpack").container'),". ",r.createElement("br",null),"The webpack config plugins array can get something like this added to it:"),r.createElement("code",{style:{whiteSpace:"pre"}}," new ModFedPlugin({\n  name: 'the-host-app',\n  filename: 'remoteEntry.js',\n  remotes: {},\n  exposes: {},\n  shared: {\n    ...deps,\n    ...eagerDepsObj,\n  },\n}),"),r.createElement(m.Z,null,r.createElement("b",null,"name")," is a friendly name for this host module."),r.createElement(m.Z,null,r.createElement("b",null,"filename")," is the filename for this module's"," ",r.createElement("i",null,'(now as a "host" app or "container" app)')," relative path inside the `output.path` directory"),r.createElement(m.Z,null,r.createElement("b",null,"remotes")," are objects of other modules that this module consumes. Right now there are no entries there, but this will get populated once a part of this app gets broken out into a separate micro-frontend Federated Module."),r.createElement(m.Z,null,r.createElement("b",null,"exposes")," is an obj of modules that should be exposed by this module. When this has content, each key is used as public name."," ",r.createElement("i",null,"(otherwise public name is automatically inferred from request)")),r.createElement(m.Z,null,r.createElement("b",null,"shared"),' is used here to describe which node_modules are "shared". This is added primarily due to a'," ",r.createElement("a",{href:"https://webpack.js.org/concepts/module-federation/#uncaught-error-shared-module-is-not-available-for-eager-consumption",target:"none"},"Known Error-Driven-Development Documentation note")," by the webpack team, where eager module loading matters."),r.createElement(O,{h4:"Host App Impact On Production Bundle",sx:{p:4}},r.createElement(m.Z,{variant:"body1"},"Horse dog")),r.createElement(m.Z,{variant:"body2"},r.createElement("a",{href:"https://scriptedalchemy.medium.com/",target:"none"},"Zachary Jackson"),", the creator of Module federation using webpack"," ",r.createElement("i",null,"(along with Marais Rossouw and Tobias Koppers)"),", has"," ",r.createElement("a",{href:"https://levelup.gitconnected.com/micro-frontend-architecture-replacing-a-monolith-from-the-inside-out-61f60d2e14c1",target:"none"},"a")," ",r.createElement("a",{href:"https://medium.com/swlh/webpack-5-module-federation-a-game-changer-to-javascript-architecture-bcdd30e02669",target:"none"},"bunch")," ",r.createElement("a",{href:"https://scriptedalchemy.medium.com/module-federation-how-do-we-create-unit-tests-for-it-bd0d73c999bc",target:"none"},"of")," ",r.createElement("a",{href:"https://scriptedalchemy.medium.com/server-side-rendering-tactics-for-federated-applications-765ec675d188",target:"none"},"great")," ",r.createElement("a",{href:"https://scriptedalchemy.medium.com/when-should-you-leverage-module-federation-and-how-2998b132c840",target:"none"},"writings")," ","on the topic."))}function S(){return r.createElement(r.Fragment,null,r.createElement(m.Z,{variant:"h1"},"Getting Started"),r.createElement(x,null),r.createElement(m.Z,{variant:"h1"},"Enabling Module Federation"),r.createElement(P,null))}function T(e){var t=e.window;return r.createElement(y,{window:t},r.createElement(S,null))}var A=document.getElementById("mfe-root");A&&(0,a.s)(A).render(r.createElement(T,null))}},l={};function i(e){var t=l[e];if(void 0!==t)return t.exports;var n=l[e]={exports:{}};return o[e](n,n.exports,i),n.exports}i.m=o,e=[],i.O=(t,n,r,a)=>{if(!n){var o=1/0;for(s=0;s<e.length;s++){for(var[n,r,a]=e[s],l=!0,c=0;c<n.length;c++)(!1&a||o>=a)&&Object.keys(i.O).every((e=>i.O[e](n[c])))?n.splice(c--,1):(l=!1,a<o&&(o=a));if(l){e.splice(s--,1);var u=r();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[n,r,a]},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var a=Object.create(null);i.r(a);var o={};t=t||[null,n({}),n([]),n(n)];for(var l=2&r&&e;"object"==typeof l&&!~t.indexOf(l);l=n(l))Object.getOwnPropertyNames(l).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,i.d(a,o),a},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>""+e,i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},a="first-mfe:",i.l=(e,t,n,o)=>{if(r[e])r[e].push(t);else{var l,c;if(void 0!==n)for(var u=document.getElementsByTagName("script"),s=0;s<u.length;s++){var d=u[s];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==a+n){l=d;break}}l||(c=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.setAttribute("data-webpack",a+n),l.src=e),r[e]=[t];var m=(t,n)=>{l.onerror=l.onload=null,clearTimeout(p);var a=r[e];if(delete r[e],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(n))),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),c&&document.head.appendChild(l)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=826,i.p="http://localhost:3000/",(()=>{var e={826:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=a);var o=i.p+i.u(t),l=new Error;i.l(o,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,r[1](l)}}),"chunk-"+t,t)}},i.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[o,l,c]=n,u=0;if(o.some((t=>0!==e[t]))){for(r in l)i.o(l,r)&&(i.m[r]=l[r]);if(c)var s=c(i)}for(t&&t(n);u<o.length;u++)a=o[u],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(s)},n=self.webpackChunkfirst_mfe=self.webpackChunkfirst_mfe||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var c=i.O(void 0,[216],(()=>i(1542)));c=i.O(c)})();